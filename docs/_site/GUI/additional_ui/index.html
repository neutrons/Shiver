<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Spectroscopy HIstogram Visualizer for Event Reduction | a data visualization tool for single crystal neutron spectroscopy.</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Spectroscopy HIstogram Visualizer for Event Reduction" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="a data visualization tool for single crystal neutron spectroscopy." />
<meta property="og:description" content="a data visualization tool for single crystal neutron spectroscopy." />
<link rel="canonical" href="http://localhost:4000/Shiver/GUI/additional_ui/" />
<meta property="og:url" content="http://localhost:4000/Shiver/GUI/additional_ui/" />
<meta property="og:site_name" content="Spectroscopy HIstogram Visualizer for Event Reduction" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Spectroscopy HIstogram Visualizer for Event Reduction" />
<script type="application/ld+json">
{"url":"http://localhost:4000/Shiver/GUI/additional_ui/","headline":"Spectroscopy HIstogram Visualizer for Event Reduction","@type":"WebPage","description":"a data visualization tool for single crystal neutron spectroscopy.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" as="style" type="text/css" crossorigin>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/Shiver/assets/css/style.css?v=">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/Shiver/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">SHIVER - <u>S</u>pectroscopy <u>HI</u>stogram <u>V</u>isualizer for <u>E</u>vent <u>R</u>eduction</h1>



    </header>

    <main id="content" class="main-content" role="main">
    <a href=/Shiver/>Home</a>
      <ul id="markdown-toc">
  <li><a href="#sample-parameters" id="markdown-toc-sample-parameters">Sample parameters</a></li>
  <li><a href="#polarization-options" id="markdown-toc-polarization-options">Polarization options</a></li>
  <li><a href="#advanced-reduction-options" id="markdown-toc-advanced-reduction-options">Advanced reduction options</a></li>
</ul>

<h1 id="sample-parameters">Sample parameters</h1>

<p>This dialog box allows setting/ modifying the lattice parameters and sample orientation
(the UB matrix). There are two ways to specify these:</p>
<ul>
  <li>The <code class="language-python highlighter-rouge"><span class="n">a</span></code>, <code class="language-python highlighter-rouge"><span class="n">b</span></code>, <code class="language-python highlighter-rouge"><span class="n">c</span></code>, <code class="language-python highlighter-rouge"><span class="n">alpha</span></code>, <code class="language-python highlighter-rouge"><span class="n">beta</span></code>, <code class="language-python highlighter-rouge"><span class="n">gamma</span></code> are the lattice parameters. When the goniometer
 angles are all zero, the orientation vector <code class="language-python highlighter-rouge"><span class="n">u</span> <span class="o">=</span> <span class="p">(</span><span class="n">ux</span><span class="p">,</span> <span class="n">uy</span><span class="p">,</span> <span class="n">uz</span><span class="p">)</span></code> points along the beam,
 and the <code class="language-python highlighter-rouge"><span class="n">v</span> <span class="o">=</span> <span class="p">(</span><span class="n">vx</span><span class="p">,</span> <span class="n">vy</span><span class="p">,</span> <span class="n">vz</span><span class="p">)</span></code> vector is in the horizontal plane, not necessarily perpendicular to <code class="language-python highlighter-rouge"><span class="n">u</span></code>,
 in a way that the cross product points upward.</li>
  <li>The <code class="language-python highlighter-rouge"><span class="n">UB</span></code> matrix. A good explanation can be found in the <a href="https://docs.mantidproject.org/nightly/concepts/Lattice.html">Mantid concepts page</a></li>
</ul>

<p>One can also load these parameters from the raw file, a processed nexus file, or an ISAW UB matrix file.</p>

<p><img src="/Shiver//images/Shiver-UB.png" alt="Shiver UB setup" /></p>

<h1 id="polarization-options">Polarization options</h1>

<p>For polarized neutron experiments, it is useful to label the data with the polarization state:</p>

<p><img src="/Shiver//images/Shiver-polarization_opt.png" alt="Shiver UB setup" /></p>

<p>The state it used as a suggestion when <a href="/Shiver//GUI/main_window/#selecting-data">selecting data</a>.</p>

<p>If both polarization states are selected in the main window, the <code class="language-python highlighter-rouge"><span class="n">Flipping</span> <span class="n">ratio</span></code>
and <code class="language-python highlighter-rouge"><span class="n">Flipping</span> <span class="n">ratio</span> <span class="n">sample</span> <span class="n">log</span></code> parameters are passed to the
<a href="https://docs.mantidproject.org/nightly/algorithms/FlippingRatioCorrectionMD-v1.html">FlippingRatioCorrectionMD</a> algorithm, so in the end one ends up with flipping ratio corrected histograms.</p>

<p>For the HYSPEC instrument, when using the supermirror polarization analyser, the neutron will be deflected by
a small amount, the <code class="language-python highlighter-rouge"><span class="n">PSDA</span></code> (polarization supermirror deflection angle). This needs to be
taken in consideration when generating the MD event data. By default, this
value is taken from the file, so leave this field empty. If you want to override, <code class="language-python highlighter-rouge"><span class="mf">0.0</span></code> is unpolarized,
and <code class="language-python highlighter-rouge"><span class="o">-</span><span class="mf">1.3</span></code> is for the polarized state.</p>

<h1 id="advanced-reduction-options">Advanced reduction options</h1>

<p>When generating multi-dimensional event data sets, there are some advanced options available:</p>

<p><img src="/Shiver//images/Shiver-advanced_reduction.png" alt="Shiver UB setup" /></p>

<ul>
  <li>In addition to the mask file in the <a href="/Shiver//GUI/generate">Generate</a> tab, one can mask
 additional detectors. Each line in the <code class="language-python highlighter-rouge"><span class="n">Mask</span> <span class="n">Bank</span><span class="p">,</span> <span class="n">Tube</span><span class="p">,</span> <span class="n">Pixel</span></code> is used independently. So in the example
 in the figure, tubes 1, 2, and 3 in the first bank are masked, followed by masking pixels 1 to 8 and 121
 to 128 in every bank, in every tube.</li>
  <li>The <code class="language-python highlighter-rouge"><span class="n">Emin</span></code> and <code class="language-python highlighter-rouge"><span class="n">Emax</span></code> define the energy transfer range, in meV. The default values
 are -0.95 and +0.95 times the incident energy</li>
  <li>The pulses with low proton charge can be filtered out using the <code class="language-python highlighter-rouge"><span class="n">Apply</span> <span class="nb">filter</span> <span class="n">bad</span> <span class="n">pulses</span></code>
 flag, where neutrons coming from pulses with charge less than <code class="language-python highlighter-rouge"><span class="n">Lower</span> <span class="n">cutoff</span> <span class="p">(</span><span class="o">%</span><span class="p">)</span></code> of the median
 pulse charge will be ignored</li>
  <li>One can subtract a time independent background. If <code class="language-python highlighter-rouge"><span class="n">Instrument</span> <span class="n">default</span></code> option is used, there is no such
 subtraction for ARCS or SEQUOIA instruments. For CNCS and HYSPEC, a range is calculated based
 on incident energy. One can override this behavior by selecting <code class="language-python highlighter-rouge"><span class="n">Yes</span></code>, in which case one must
 specify the range manually, or <code class="language-python highlighter-rouge"><span class="n">No</span></code>.</li>
  <li>By default, the sample rotation angle is obtained from the <code class="language-python highlighter-rouge"><span class="n">phi</span></code>, <code class="language-python highlighter-rouge"><span class="n">chi</span></code>, and <code class="language-python highlighter-rouge"><span class="n">omega</span></code> logs in the file.
 If not present, or incorrect, one can specify a different sample log name that contains the rotation
 around the vertical axis, using the <code class="language-python highlighter-rouge"><span class="n">Goniometer</span></code> field.</li>
  <li>The <code class="language-python highlighter-rouge"><span class="n">Additional</span> <span class="n">dimensions</span></code> is not currently used in the main histogramming part, but it can be in
 a script. This field specifies the name of an additional dimension in the dataset, such as
 sample temperature. The value associated with each event is the average value in the original file
 (no filtering is taking place)</li>
</ul>



      <footer class="site-footer">

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
